{"remainingRequest":"/Users/panbing/store/lang/doc/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/panbing/store/lang/doc/blog/node_modules/vuepress-theme-api/helpers/curl.js","dependencies":[{"path":"/Users/panbing/store/lang/doc/blog/node_modules/vuepress-theme-api/helpers/curl.js","mtime":1620918715376},{"path":"/Users/panbing/store/lang/doc/blog/node_modules/cache-loader/dist/cjs.js","mtime":1620915890299},{"path":"/Users/panbing/store/lang/doc/blog/node_modules/babel-loader/lib/index.js","mtime":1620915889925}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IHsgaXNVUkwsIGlzSlNPTiwgaXNRdWVyeVN0cmluZyB9IGZyb20gJy4vaXMnOwoKdmFyIHBhcnNlRmllbGQgPSBmdW5jdGlvbiBwYXJzZUZpZWxkKHMpIHsKICByZXR1cm4gcy5zcGxpdCgvOiAoLispLyk7Cn07CgpleHBvcnQgZnVuY3Rpb24gaXNDVVJMKGNtZCkgewogIHJldHVybiBjbWQuc3RhcnRzV2l0aCgnY3VybCAnKTsKfQpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjdXJsKGNtZCkgewogIGlmICghaXNDVVJMKGNtZCkpIHJldHVybjsKICB2YXIgYXJncyA9IGNtZC5tYXRjaCgvIlteIl0rInwnW14nXSsnfFxTKy9nKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBpdGVtLnRyaW0oKSAhPT0gJ1xcJzsKICB9KTsKICB2YXIgcmVzdWx0ID0gewogICAgbWV0aG9kOiAnR0VUJywKICAgIGhlYWRlcnM6IHt9CiAgfTsKICB2YXIgc3RhdGUgPSAnJzsKICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZykgewogICAgc3dpdGNoICh0cnVlKSB7CiAgICAgIGNhc2UgaXNVUkwoYXJnKToKICAgICAgICByZXN1bHQudXJsID0gYXJnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBhcmcgPT09ICctQScgfHwgYXJnID09PSAnLS11c2VyLWFnZW50JzoKICAgICAgICBzdGF0ZSA9ICd1c2VyLWFnZW50JzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgYXJnID09PSAnLUgnIHx8IGFyZyA9PT0gJy0taGVhZGVyJzoKICAgICAgICBzdGF0ZSA9ICdoZWFkZXInOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBhcmcgPT09ICctZCcgfHwgYXJnID09PSAnLS1kYXRhJyB8fCBhcmcgPT09ICctLWRhdGEtYXNjaWknOgogICAgICAgIHN0YXRlID0gJ2RhdGEnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBhcmcgPT09ICctdScgfHwgYXJnID09PSAnLS11c2VyJzoKICAgICAgICBzdGF0ZSA9ICd1c2VyJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgYXJnID09PSAnLUknIHx8IGFyZyA9PT0gJy0taGVhZCc6CiAgICAgICAgcmVzdWx0Lm1ldGhvZCA9ICdIRUFEJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgYXJnID09PSAnLVgnIHx8IGFyZyA9PT0gJy0tcmVxdWVzdCc6CiAgICAgICAgc3RhdGUgPSAnbWV0aG9kJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgYXJnID09PSAnLWInIHx8IGFyZyA9PT0gJy0tY29va2llJzoKICAgICAgICBzdGF0ZSA9ICdjb29raWUnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBhcmcgPT09ICctLWNvbXByZXNzZWQnOgogICAgICAgIHJlc3VsdC5oZWFkZXJzWydBY2NlcHQtRW5jb2RpbmcnXSA9IHJlc3VsdC5oZWFkZXJzWydBY2NlcHQtRW5jb2RpbmcnXSB8fCAnZGVmbGF0ZSwgZ3ppcCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICEhYXJnOgogICAgICAgIC8vIERlbGV0ZSB0aGUgc3RhcnQgcG9zaXRpb24gYW5kIHRoZSBlbmQgb2YgdGhlIHF1b3RhdGlvbiBtYXJrCiAgICAgICAgaWYgKC9eWyciXS8udGVzdChhcmcpKSB7CiAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMSwgLTEpOwogICAgICAgIH0KCiAgICAgICAgc3dpdGNoIChzdGF0ZSkgewogICAgICAgICAgY2FzZSAnaGVhZGVyJzoKICAgICAgICAgICAgdmFyIGZpZWxkID0gcGFyc2VGaWVsZChhcmcpOwogICAgICAgICAgICByZXN1bHQuaGVhZGVyc1tmaWVsZFswXV0gPSBmaWVsZFsxXTsKICAgICAgICAgICAgc3RhdGUgPSAnJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAndXNlci1hZ2VudCc6CiAgICAgICAgICAgIHJlc3VsdC5oZWFkZXJzWydVc2VyLUFnZW50J10gPSBhcmc7CiAgICAgICAgICAgIHN0YXRlID0gJyc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ2RhdGEnOgogICAgICAgICAgICBpZiAocmVzdWx0Lm1ldGhvZC50b1VwcGVyQ2FzZSgpID09PSAnR0VUJyB8fCByZXN1bHQubWV0aG9kLnRvVXBwZXJDYXNlKCkgPT09ICdIRUFEJykgewogICAgICAgICAgICAgIHJlc3VsdC5tZXRob2QgPSAnUE9TVCc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlc3VsdC5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHJlc3VsdC5oZWFkZXJzWydDb250ZW50LVR5cGUnXSB8fCAnYXBwbGljYXRpb24vanNvbic7CgogICAgICAgICAgICBpZiAoaXNKU09OKGFyZykpIHsKICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoYXJnKTsKICAgICAgICAgICAgICByZXN1bHQuZGF0YSA9IHJlc3VsdC5kYXRhID8gT2JqZWN0LmFzc2lnbihyZXN1bHQuZGF0YSwgZGF0YSkgOiBkYXRhOwogICAgICAgICAgICB9IGVsc2UgaWYgKGlzUXVlcnlTdHJpbmcoYXJnKSkgewogICAgICAgICAgICAgIHJlc3VsdC5kYXRhID0gcmVzdWx0LmRhdGEgPyByZXN1bHQuZGF0YSArICcmJyArIGFyZyA6IGFyZzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc3RhdGUgPSAnJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAndXNlcic6CiAgICAgICAgICAgIHJlc3VsdC5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmFzaWMgJyArIGJ0b2EoYXJnKTsKICAgICAgICAgICAgc3RhdGUgPSAnJzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnbWV0aG9kJzoKICAgICAgICAgICAgcmVzdWx0Lm1ldGhvZCA9IGFyZy50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBzdGF0ZSA9ICcnOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdjb29raWUnOgogICAgICAgICAgICByZXN1bHQuaGVhZGVyc1snU2V0LUNvb2tpZSddID0gYXJnOwogICAgICAgICAgICBzdGF0ZSA9ICcnOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGJyZWFrOwogICAgfQogIH0pOwogIHJldHVybiByZXN1bHQ7Cn0="},{"version":3,"sources":["/Users/panbing/store/lang/doc/blog/node_modules/vuepress-theme-api/helpers/curl.js"],"names":["isURL","isJSON","isQueryString","parseField","s","split","isCURL","cmd","startsWith","curl","args","match","filter","item","trim","result","method","headers","state","forEach","arg","url","test","slice","field","toUpperCase","data","JSON","parse","Object","assign","btoa","toLowerCase"],"mappings":"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","sourcesContent":["import { isURL, isJSON, isQueryString } from './is'\n\nconst parseField = (s) => {\n  return s.split(/: (.+)/)\n}\n\nexport function isCURL(cmd) {\n  return cmd.startsWith('curl ')\n}\n\nexport default function curl(cmd) {\n  if (!isCURL(cmd)) return\n\n  const args = cmd\n    .match(/\"[^\"]+\"|'[^']+'|\\S+/g)\n    .filter((item) => item.trim() !== '\\\\')\n\n  const result = {\n    method: 'GET',\n    headers: {},\n  }\n\n  let state = ''\n\n  args.forEach(function (arg) {\n    switch (true) {\n      case isURL(arg):\n        result.url = arg\n\n        break\n      case arg === '-A' || arg === '--user-agent':\n        state = 'user-agent'\n\n        break\n      case arg === '-H' || arg === '--header':\n        state = 'header'\n\n        break\n      case arg === '-d' || arg === '--data' || arg === '--data-ascii':\n        state = 'data'\n\n        break\n      case arg === '-u' || arg === '--user':\n        state = 'user'\n\n        break\n      case arg === '-I' || arg === '--head':\n        result.method = 'HEAD'\n\n        break\n      case arg === '-X' || arg === '--request':\n        state = 'method'\n\n        break\n      case arg === '-b' || arg === '--cookie':\n        state = 'cookie'\n\n        break\n      case arg === '--compressed':\n        result.headers['Accept-Encoding'] =\n          result.headers['Accept-Encoding'] || 'deflate, gzip'\n\n        break\n      case !!arg:\n        // Delete the start position and the end of the quotation mark\n        if (/^['\"]/.test(arg)) {\n          arg = arg.slice(1, -1)\n        }\n\n        switch (state) {\n          case 'header':\n            const field = parseField(arg)\n\n            result.headers[field[0]] = field[1]\n            state = ''\n\n            break\n          case 'user-agent':\n            result.headers['User-Agent'] = arg\n            state = ''\n\n            break\n          case 'data':\n            if (\n              result.method.toUpperCase() === 'GET' ||\n              result.method.toUpperCase() === 'HEAD'\n            ) {\n              result.method = 'POST'\n            }\n\n            result.headers['Content-Type'] =\n              result.headers['Content-Type'] || 'application/json'\n\n            if (isJSON(arg)) {\n              const data = JSON.parse(arg)\n\n              result.data = result.data\n                ? Object.assign(result.data, data)\n                : data\n            } else if (isQueryString(arg)) {\n              result.data = result.data ? result.data + '&' + arg : arg\n            }\n\n            state = ''\n\n            break\n          case 'user':\n            result.headers['Authorization'] = 'Basic ' + btoa(arg)\n            state = ''\n\n            break\n          case 'method':\n            result.method = arg.toLowerCase()\n            state = ''\n\n            break\n          case 'cookie':\n            result.headers['Set-Cookie'] = arg\n            state = ''\n\n            break\n        }\n        break\n    }\n  })\n\n  return result\n}\n"]}]}